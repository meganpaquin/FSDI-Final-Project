{% extends 'base.html' %}
{% load static %}

{% block title %}
  Dashboard
{% endblock title %}

{% block links %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/charts.css/dist/charts.min.css">


    <link rel="stylesheet" href="{% static 'css/base.css' %}" />
    <link rel="stylesheet" href="{% static 'css/page-layout.css' %}" />
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,700;1,300&display=swap"
      rel="stylesheet"
    />

    <script
      src="https://kit.fontawesome.com/2b8896c554.js"
      crossorigin="anonymous"
    ></script>
{% endblock links %}


{% block contents %}
<div class="row-container top">
  <section class="top-left">
    <h4 class="section-labels">Project Status</h4>

    {% for project in projects %}
    {% if project.status|stringformat:"s" == "assigned" %}
      <div class="progress" style="height: 50px">
        <div
          class="progress-bar bg-success"
          role="progressbar"
          aria-label="Example 50px high"
          style="width: 0%"
          aria-valuenow="0"
          aria-valuemin="0"
          aria-valuemax="100"
        ></div>
        <span class="title">{{ project.title| truncatechars:30 }}</span>
      </div>
    {% endif %}
    {% endfor %}

    {% for project in projects %}
    {% if project.status|stringformat:"s" == "in-progress" %}
      <div class="progress" style="height: 50px">
        <div
          class="progress-bar bg-success"
          role="progressbar"
          aria-label="Example 50px high"
          style="width: 55%"
          aria-valuenow="55"
          aria-valuemin="0"
          aria-valuemax="100"
        ></div>
        <span class="title">{{ project.title| truncatechars:30 }}</span>
      </div>
    {% endif %}
    {% endfor %}

    {% for project in projects %}
    {% if project.status|stringformat:"s" == "complete" %}
      <div class="progress" style="height: 50px">
        <div
          class="progress-bar bg-success"
          role="progressbar"
          aria-label="Example 50px high"
          style="width: 100%"
          aria-valuenow="100"
          aria-valuemin="0"
          aria-valuemax="100"
        ></div>
        <span class="title">{{ project.title| truncatechars:30 }}</span>
      </div>
    {% endif %}
    {% endfor %}

   
  </section>

  <section class="top-right">
    <h4 class="section-labels">Team Workload</h4>

    <table class="charts-css column show-labels show-4-secondary-axes">

      {% for team in team_workload %}
      {% for member in team.members.all %}
      <tr>
          <th scope="row">{{ member.first_name }}</th>
          {% for each in tasks %}
            {% if each.assignee == member %}
              Test
            {% endif %}
          {% endfor %}
          <td style="--size:0.2;"></td>
      </tr>
      {% endfor %}
      {% endfor %}
    </table>

  </section>
</div>

<div class="row-container bottom">
  <section class="bottom-left">
    <h4 class="section-labels">Open Issues</h4>

    <div class="issue-ticket row-container">
      <i class="fa-solid fa-inbox fa-2xl"></i>
      <div class="column-container details">
        <h4>Issue Title</h4>
        <h5>Issue Subtitle</h5>
      </div>
      <i class="fa-regular fa-comment-dots fa-2xl"></i>
    </div>

    <div class="issue-ticket row-container">
      <i class="fa-solid fa-inbox fa-2xl"></i>
      <div class="column-container details">
        <h4>Issue Title</h4>
        <h5>Issue Subtitle</h5>
      </div>
      <i class="fa-regular fa-comment-dots fa-2xl"></i>
    </div>

    <div class="issue-ticket row-container">
      <i class="fa-solid fa-inbox fa-2xl"></i>
      <div class="column-container details">
        <h4>Issue Title</h4>
        <h5>Issue Subtitle</h5>
      </div>
      <i class="fa-regular fa-comment-dots fa-2xl"></i>
    </div>

    <div class="issue-ticket row-container">
      <i class="fa-solid fa-inbox fa-2xl"></i>
      <div class="column-container details">
        <h4>Issue Title</h4>
        <h5>Issue Subtitle</h5>
      </div>
      <i class="fa-regular fa-comment-dots fa-2xl"></i>
    </div>

    <div class="issue-ticket row-container">
      <i class="fa-solid fa-inbox fa-2xl"></i>
      <div class="column-container details">
        <h4>Issue Title</h4>
        <h5>Issue Subtitle</h5>
      </div>
      <i class="fa-regular fa-comment-dots fa-2xl"></i>
    </div>

    <div class="issue-ticket row-container">
      <i class="fa-solid fa-inbox fa-2xl"></i>
      <div class="column-container details">
        <h4>Issue Title</h4>
        <h5>Issue Subtitle</h5>
      </div>
      <i class="fa-regular fa-comment-dots fa-2xl"></i>
    </div>
  </section>

  <section class="bottom-right row-container">
    <img id="piechart" src="{% static 'img/pie-chart-svgrepo-com (1).svg' %}" alt="">

    <div class="column-container pie-totals">
      <h4>Overdue Tasks:</h4>
      <h3>5</h3>
      <h4>Working Tasks:</h4>
      <h3>10</h3>
      <h4>Completed Tasks:</h4>
      <h3>10</h3>
    </div>
  </section>
</div>

   

{% endblock contents %}
